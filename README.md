# 理科部公式サイト

こちらのサイトは現在開発中です。完成までしばらくお待ち下さい。

## はじめに

理科部公式サイトは、コンテンツ管理システム（CMS）を用いて、誰でも簡単にブログの更新を行うことができるサイトです。

CMSは '[microCMS](https://microcms.io/)' というAPIベースの日本製ヘッドレスCMSを採用しています。

'Next.js'というフレームワークで開発されており、静的サイトジェネレーター（SSG）という機能を利用しています。

また、本サイトはGitHubにより提供されている'GitHub Pages'を用いて公開されています。

'GitHub Actions'を使用しているため、mainブランチに変更が加わるとデプロイが自動で実行され、サイトが更新されます。

まだ実装はしていないですが、microCMSのWebhook機能を用いて、記事を更新すると自動デプロイが行われるようにする予定です。

## 開発環境

| Name | Version |
| --- | --- |
| node | 16.x |

なお、Node.jsの最新バージョン（18.x 以降）では開発ができません。必ず16.xを利用してください。

その他は 'package.json' を参照してください。（後述する `npm i` で一括インストールできます）

## 開発環境構築

以下のフォルダ構成を想定します。

```
foo
└ nitgc-rika.github.io
  ├ .git
  ├ ...
  └ README.md
```

### リポジトリのクローン

fooディレクトリに移動し、

`git clone https://github.com/nitgc-rika/nitgc-rika.github.io.git`

を実行します。

上記のようなフォルダ構成になると思います。

### パッケージのインストール

プロジェクトで使用しているパッケージのインストールには、

`npm i`

を実行します。

'package.json'に記載されているパッケージが自動的にインストールされます。

### 環境変数の設定

プロジェクト内に`.env.local`ファイルを作成します。

```
SERVICE_DOMAIN=...
API_KEY=...
```

というフォーマットで値を記述します。なお、各値は権限のある方に聞いてください。

### 開発

以上が開発環境構築の手段です。

これ以降は、以下のサイトを参考に進めてください。

[microCMS + Next.jsでJamstackブログを作ってみよう](https://blog.microcms.io/microcms-next-jamstack-blog/)

## microCMS

### 構成（APIスキーマ）

ブログを投稿する際に必要な情報です。

#### グループ

どのグループに関する記事かを選択してください。

#### タグ

"お知らせ"や"ブログ"など、適するものを選択してください。

#### タイトル

タイトルを記入してください。20文字の制限があります。

#### 概要

記事の概要。50~100文字程度で記載すると良いかもしれません。書かなくても大丈夫です。

#### コンテンツ

ここに実際の記事を書いてください。

## 改訂履歴

初版 2023/04/08 maru
